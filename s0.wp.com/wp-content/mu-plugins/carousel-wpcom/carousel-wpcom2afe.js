(function(){"use strict";if(typeof window.wpcom==="undefined"){window.wpcom={}}if(window.wpcom.carousel){return}var e=jetpackCarouselStrings.widths;var t=jetpackCarouselStrings.stats_query_args;var r=function(t,r,i,n){var o=r/t;for(var a=0;a<e.length;++a){if(e[a]>=i||e[a]*o>=n){return e[a]}}return t};var i=function(e){return n(e,"resize")};var n=function(e,t){var r=new RegExp("[\\?&]"+t+"(=[^?&]+)?");if(e.match(r)){return e.replace(r,"")}return e};var o=function(e,t){t=parseInt(t,10);if("undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio>1){t=Math.round(t*window.devicePixelRatio)}e=a(e,"w",t);e=a(e,"h","");return e};var a=function(e,t,r){var i=new RegExp(t+"=[^?&]+");if(e.match(i)){return e.replace(i,t+"="+r)}else{var n=e.indexOf("?")!==-1?"&":"?";return e+n+t+"="+r}};var c=function(e){if(typeof e!=="string"){e=e.join(",")}new Image().src=window.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+"&x_carousel="+e+"&baba="+Math.random()};var d=function(e){new Image().src=window.location.protocol+"//pixel.wp.com/g.gif?host="+encodeURIComponent(window.location.host)+"&ref="+encodeURIComponent(document.referrer)+"&rand="+Math.random()+"&"+t+"&post="+encodeURIComponent(e)};var u=function(e,t){var n=e.getAttribute("data-orig-size")||"";var a=e.getAttribute("src")||e.getAttribute("original")||e.getAttribute("data-original")||e.getAttribute("data-lazy-src");if(a.indexOf("imgpress")!==-1){a=e.getAttribute("data-orig-file")}a=i(a);a=o(a,r(n.width,n.height,t.width,t.height));return a};window.wpcom.carousel={findFirstLargeEnoughWidth:r,removeResizeFromImageURL:i,addWidthToImageURL:o,stat:c,pageview:d,generateImgSrc:u}})();